(self.webpackChunkiconic_taste_backend=self.webpackChunkiconic_taste_backend||[]).push([[5516],{29307:function(S,T,t){(function(e,m){S.exports=m(t(53547))})(this,function(e){return function(m){var y={};function c(n){if(y[n])return y[n].exports;var r=y[n]={i:n,l:!1,exports:{}};return m[n].call(r.exports,r,r.exports,c),r.l=!0,r.exports}return c.m=m,c.c=y,c.d=function(n,r,p){c.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:p})},c.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},c.t=function(n,r){if(1&r&&(n=c(n)),8&r||4&r&&typeof n=="object"&&n&&n.__esModule)return n;var p=Object.create(null);if(c.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:n}),2&r&&typeof n!="string")for(var u in n)c.d(p,u,function(v){return n[v]}.bind(null,u));return p},c.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return c.d(r,"a",r),r},c.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},c.p="",c(c.s=86)}({0:function(m,y){m.exports=e},86:function(m,y,c){"use strict";c.r(y);var n=c(0);function r(){return(r=Object.assign||function(p){for(var u=1;u<arguments.length;u++){var v=arguments[u];for(var M in v)Object.prototype.hasOwnProperty.call(v,M)&&(p[M]=v[M])}return p}).apply(this,arguments)}y.default=function(p){return n.createElement("svg",r({width:"1em",height:"1em",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},p),n.createElement("path",{d:"M0 4a4 4 0 014-4h24a4 4 0 014 4v24a4 4 0 01-4 4H4a4 4 0 01-4-4V4z",fill:"#AC73E6"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.027 13.839c-3.19-.836-6.305-1.064-10.18-.608-1.215.152-1.063 1.975.076 2.203.304.836.456 2.355.912 3.267.987 2.279 5.622 1.975 7.369.835 1.14-.683 1.443-2.279 1.9-3.494.227-.684 1.595-.684 1.822 0 .38 1.215.76 2.81 1.9 3.494 1.747 1.14 6.381 1.444 7.369-.835.456-.912.607-2.431.911-3.267 1.14-.228 1.216-2.051.076-2.203-3.874-.456-6.989-.228-10.18.608-.455.075-1.519.075-1.975 0z",fill:"#fff"}))}}})})},35762:(S,T,t)=>{"use strict";t.d(T,{Z:()=>p});var e=t(23724),m=t(68547),y=t(63955),c=(u,v,M)=>new Promise((g,B)=>{var x=o=>{try{C(M.next(o))}catch(I){B(I)}},k=o=>{try{C(M.throw(o))}catch(I){B(I)}},C=o=>o.done?g(o.value):Promise.resolve(o.value).then(x,k);C((M=M.apply(u,v)).next())});const n=()=>c(void 0,null,function*(){const{data:u}=yield y.be.get("/admin/plugins");return u}),p=u=>{const v=(0,m.useNotification)();return(0,e.useQuery)("list-installed-plugins",()=>n(),{onSuccess:()=>{u&&u()},onError:()=>{v({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}})}},65560:(S,T,t)=>{"use strict";t.r(T),t.d(T,{MarketPlacePage:()=>$,default:()=>De});var e=t(53547),m=t(97132),y=t(15482),c=t(23724),n=t(63852),r=t(68547),p=t(39272),u=t(35395),v=t(80117),M=t(36565),g=t(94117),B=t(67422),x=t(33483),k=t(40264),C=t(45697),o=t.n(C),I=t(78384),Y=t(9524),N=t(31512),L=t(33699),j=t(55639),V=t(74657),A=t.n(V),K=t(37694),J=t.n(K),X=t(22139),q=t(74855),_=t(22754),ee=t.n(_),te=t(54279),ae=t.n(te),ne=t(64459);const F=({isInstalled:a,isInDevelopmentMode:l,commandToCopy:s})=>{const P=(0,r.useNotification)(),{formatMessage:i}=(0,m.useIntl)(),{trackUsage:f}=(0,r.useTracking)();return a?e.createElement(g.Box,{paddingLeft:4},e.createElement(L.Icon,{as:ee(),marginRight:2,width:12,height:12,color:"success600"}),e.createElement(x.Typography,{variant:"omega",textColor:"success600",fontWeight:"bold"},i({id:"admin.pages.MarketPlacePage.plugin.installed",defaultMessage:"Installed"}))):l?e.createElement(q.CopyToClipboard,{onCopy:()=>{f("willInstallPlugin"),P({type:"success",message:{id:"admin.pages.MarketPlacePage.plugin.copy.success"}})},text:s},e.createElement(ne.Button,{size:"S",startIcon:e.createElement(ae(),null),variant:"secondary"},i({id:"admin.pages.MarketPlacePage.plugin.copy",defaultMessage:"Copy install command"}))):null};F.propTypes={isInstalled:o().bool.isRequired,isInDevelopmentMode:o().bool.isRequired,commandToCopy:o().string.isRequired};const re=F,le=(0,I.default)(x.Typography)`
  /* stylelint-disable value-no-vendor-prefix, property-no-vendor-prefix */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2;
  /* stylelint-enable value-no-vendor-prefix, property-no-vendor-prefix */
  overflow: hidden;
`,O=({plugin:a,installedPluginNames:l,useYarn:s,isInDevelopmentMode:P})=>{const{attributes:i}=a,{formatMessage:f}=(0,m.useIntl)(),{trackUsage:b}=(0,r.useTracking)(),h=l.includes(i.npmPackageName),d=s?`yarn add ${i.npmPackageName}`:`npm install ${i.npmPackageName}`,E=f({id:"admin.pages.MarketPlacePage.plugin.tooltip.madeByStrapi",defaultMessage:"Made by Strapi"});return e.createElement(k.Flex,{direction:"column",justifyContent:"space-between",paddingTop:4,paddingRight:6,paddingBottom:4,paddingLeft:6,hasRadius:!0,background:"neutral0",shadow:"tableShadow",height:"100%",alignItems:"normal"},e.createElement(g.Box,null,e.createElement(g.Box,{as:"img",src:i.logo.url,alt:`${i.name} logo`,hasRadius:!0,width:11,height:11}),e.createElement(g.Box,{paddingTop:4},e.createElement(x.Typography,{as:"h3",variant:"delta"},e.createElement(k.Flex,{alignItems:"center"},i.name,i.validated&&!i.madeByStrapi&&e.createElement(j.Tooltip,{description:f({id:"admin.pages.MarketPlacePage.plugin.tooltip.verified",defaultMessage:"Plugin verified by Strapi"})},e.createElement(k.Flex,null,e.createElement(L.Icon,{as:J(),marginLeft:2,color:"success600"}))),i.madeByStrapi&&e.createElement(j.Tooltip,{description:E},e.createElement(k.Flex,null,e.createElement(g.Box,{as:"img",src:X,alt:E,marginLeft:1,width:6,height:"auto"})))))),e.createElement(g.Box,{paddingTop:2},e.createElement(le,{as:"p",variant:"omega",textColor:"neutral600"},i.description))),e.createElement(Y.Stack,{horizontal:!0,spacing:2,style:{alignSelf:"flex-end"},paddingTop:6},e.createElement(N.LinkButton,{size:"S",href:`https://market.strapi.io/plugins/${i.slug}`,endIcon:e.createElement(A(),null),"aria-label":f({id:"admin.pages.MarketPlacePage.plugin.info.label",defaultMessage:"Learn more about {pluginName}"},{pluginName:i.name}),variant:"tertiary",onClick:()=>b("didPluginLearnMore")},f({id:"admin.pages.MarketPlacePage.plugin.info.text",defaultMessage:"Learn more"})),e.createElement(re,{isInstalled:h,isInDevelopmentMode:P,commandToCopy:d})))};O.defaultProps={isInDevelopmentMode:!1},O.propTypes={plugin:o().shape({id:o().string.isRequired,attributes:o().shape({name:o().string.isRequired,description:o().string.isRequired,slug:o().string.isRequired,npmPackageName:o().string.isRequired,npmPackageUrl:o().string.isRequired,repositoryUrl:o().string.isRequired,logo:o().object.isRequired,developerName:o().string.isRequired,validated:o().bool.isRequired,madeByStrapi:o().bool.isRequired,strapiCompatibility:o().oneOf(["v3","v4"]).isRequired}).isRequired}).isRequired,installedPluginNames:o().arrayOf(o().string).isRequired,useYarn:o().bool.isRequired,isInDevelopmentMode:o().bool};const se=O;var oe=t(26485),ie=t.n(oe);const ce=(0,I.default)(g.Box)`
  background: ${({theme:a})=>`linear-gradient(180deg, rgba(234, 234, 239, 0) 0%, ${a.colors.neutral150} 100%)`};
  opacity: 0.33;
`,ue=()=>e.createElement(u.GridLayout,null,Array(12).fill(null).map((a,l)=>e.createElement(ce,{key:`empty-plugin-card-${l}`,height:"234px",hasRadius:!0}))),D=({content:a})=>e.createElement(g.Box,{position:"relative"},e.createElement(ue,null),e.createElement(g.Box,{position:"absolute",top:11,width:"100%"},e.createElement(k.Flex,{alignItems:"center",justifyContent:"center",direction:"column"},e.createElement(L.Icon,{as:ie(),color:"",width:"160px",height:"88px"}),e.createElement(g.Box,{paddingTop:6},e.createElement(x.Typography,{variant:"delta",as:"p",textColor:"neutral600"},a)))));D.propTypes={content:o().string.isRequired};var de=t(17908),ge=t.n(de);const w=({isOnline:a})=>{const{formatMessage:l}=(0,m.useIntl)(),{trackUsage:s}=(0,r.useTracking)();return e.createElement(u.HeaderLayout,{title:l({id:"global.marketplace",defaultMessage:"Marketplace"}),subtitle:l({id:"admin.pages.MarketPlacePage.subtitle",defaultMessage:"Get more out of Strapi"}),primaryAction:a&&e.createElement(N.LinkButton,{startIcon:e.createElement(ge(),null),variant:"tertiary",href:"https://market.strapi.io/submit-plugin",onClick:()=>s("didSubmitPlugin")},l({id:"admin.pages.MarketPlacePage.submit.plugin.link",defaultMessage:"Submit your plugin"}))})},U=w;w.propTypes={isOnline:o().bool.isRequired};var pe=t(63955),me=(a,l,s)=>new Promise((P,i)=>{var f=d=>{try{h(s.next(d))}catch(E){i(E)}},b=d=>{try{h(s.throw(d))}catch(E){i(E)}},h=d=>d.done?P(d.value):Promise.resolve(d.value).then(f,b);h((s=s.apply(a,l)).next())});const fe=()=>me(void 0,null,function*(){const{data:a}=yield pe.be.get("/admin/information");return a});var ve=t(35762),he=t(9669),ye=t.n(he),Pe=Object.defineProperty,Ee=Object.defineProperties,Me=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,xe=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable,H=(a,l,s)=>l in a?Pe(a,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[l]=s,be=(a,l)=>{for(var s in l||(l={}))xe.call(l,s)&&H(a,s,l[s]);if(G)for(var s of G(l))ke.call(l,s)&&H(a,s,l[s]);return a},Se=(a,l)=>Ee(a,Me(l)),Te=(a,l,s)=>new Promise((P,i)=>{var f=d=>{try{h(s.next(d))}catch(E){i(E)}},b=d=>{try{h(s.throw(d))}catch(E){i(E)}},h=d=>d.done?P(d.value):Promise.resolve(d.value).then(f,b);h((s=s.apply(a,l)).next())});const Ie="https://market-api.strapi.io",Re=()=>Te(void 0,null,function*(){const{data:a}=yield ye().get(`${Ie}/plugins`);return Se(be({},a),{data:a.data.filter(s=>s.attributes.strapiCompatibility==="v4")})}),Ce=a=>{const l=(0,r.useNotification)();return(0,c.useQuery)("list-marketplace-plugins",()=>Re(),{onSuccess:()=>{a&&a()},onError:()=>{l({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}})};var Be=t(92699),Le=t(87438);const Oe=()=>{const a=typeof navigator!="undefined"&&typeof navigator.onLine=="boolean"?navigator.onLine:!0,[l,s]=(0,e.useState)(a),P=()=>s(!0),i=()=>s(!1);return(0,e.useEffect)(()=>(window.addEventListener("online",P),window.addEventListener("offline",i),()=>{window.removeEventListener("online",P),window.removeEventListener("offline",i)}),[]),l};var Ne=t(29307),je=t.n(Ne);const Ae=()=>{const{formatMessage:a}=(0,m.useIntl)(),{trackUsage:l}=(0,r.useTracking)();return e.createElement("a",{href:"https://strapi.canny.io/plugin-requests",target:"_blank",rel:"noopener noreferrer nofollow",style:{textDecoration:"none"},onClick:()=>l("didMissMarketplacePlugin")},e.createElement(r.ContentBox,{title:a({id:"admin.pages.MarketPlacePage.missingPlugin.title",defaultMessage:"Documentation"}),subtitle:a({id:"admin.pages.MarketPlacePage.missingPlugin.description",defaultMessage:"Tell us what plugin you are looking for and we'll let our community plugin developers know in case they are in search for inspiration!"}),icon:e.createElement(je(),null),iconBackground:"alternative100",endAction:e.createElement(L.Icon,{as:A(),color:"neutral600",width:3,height:3,marginLeft:2})}))},Fe=(a,l)=>(0,n.ZP)(a,l,{keys:[{threshold:n.ZP.rankings.WORD_STARTS_WITH,key:"attributes.name"},{threshold:n.ZP.rankings.WORD_STARTS_WITH,key:"attributes.description"}]}),$=()=>{const{formatMessage:a}=(0,m.useIntl)(),{trackUsage:l}=(0,r.useTracking)(),{notifyStatus:s}=(0,B.useNotifyAT)(),P=(0,e.useRef)(l),i=(0,r.useNotification)(),[f,b]=(0,e.useState)(""),{autoReload:h}=(0,r.useAppInfos)(),d=Oe();(0,r.useFocusWhenNavigate)();const E=a({id:"global.marketplace",defaultMessage:"Marketplace"}),we=()=>{s(a({id:"app.utils.notify.data-loaded",defaultMessage:"The {target} has loaded"},{target:E}))},{status:W,data:Ue}=Ce(we),{status:Z,data:Ge}=(0,ve.Z)(),{data:He,status:z}=(0,c.useQuery)("app-information",fe,{onError:()=>{i({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}}),$e=[W,Z,z].includes("loading"),We=[W,Z,z].includes("error");if((0,e.useEffect)(()=>{P.current("didGoToMarketplace")},[]),(0,e.useEffect)(()=>{h||i({type:"info",message:{id:"admin.pages.MarketPlacePage.production",defaultMessage:"Manage plugins from the development environment"},blockTransition:!0})},[i,h]),!d)return e.createElement(u.Layout,null,e.createElement(v.Main,null,e.createElement(U,{isOnline:d}),e.createElement(k.Flex,{width:"100%",direction:"column",alignItems:"center",justifyContent:"center",style:{paddingTop:"120px"}},e.createElement(g.Box,{paddingBottom:2},e.createElement(x.Typography,{textColor:"neutral700",variant:"alpha"},a({id:"admin.pages.MarketPlacePage.offline.title",defaultMessage:"You are offline"}))),e.createElement(g.Box,{paddingBottom:6},e.createElement(x.Typography,{textColor:"neutral700",variant:"epsilon"},a({id:"admin.pages.MarketPlacePage.offline.subtitle",defaultMessage:"You need to be connected to the Internet to access Strapi Market."}))),e.createElement("img",{src:Le,alt:"offline",style:{width:"88px",height:"88px"}}))));if(We)return e.createElement(u.Layout,null,e.createElement(u.ContentLayout,null,e.createElement(g.Box,{paddingTop:8},e.createElement(r.AnErrorOccurred,null))));if($e)return e.createElement(u.Layout,null,e.createElement(v.Main,{"aria-busy":!0},e.createElement(r.LoadingIndicatorPage,null)));const Q=Fe(Ue.data,f),Ze=Ge.plugins.map(R=>R.packageName);return e.createElement(u.Layout,null,e.createElement(v.Main,null,e.createElement(y.Helmet,{title:a({id:"admin.pages.MarketPlacePage.helmet",defaultMessage:"Marketplace - Plugins"})}),e.createElement(U,{isOnline:d}),e.createElement(u.ContentLayout,null,e.createElement(g.Box,{width:"25%",paddingBottom:4},e.createElement(M.Searchbar,{name:"searchbar",onClear:()=>b(""),value:f,onChange:R=>b(R.target.value),clearLabel:a({id:"admin.pages.MarketPlacePage.search.clear",defaultMessage:"Clear the plugin search"}),placeholder:a({id:"admin.pages.MarketPlacePage.search.placeholder",defaultMessage:"Search for a plugin"})},a({id:"admin.pages.MarketPlacePage.search.placeholder",defaultMessage:"Search for a plugin"}))),f.length>0&&!Q.length?e.createElement(D,{content:a({id:"admin.pages.MarketPlacePage.search.empty",defaultMessage:'No result for "{target}"'},{target:f})}):e.createElement(p.Grid,{gap:4},Q.map(R=>e.createElement(p.GridItem,{col:4,s:6,xs:12,style:{height:"100%"},key:R.id},e.createElement(se,{plugin:R,installedPluginNames:Ze,useYarn:He.data.useYarn,isInDevelopmentMode:h})))),e.createElement(g.Box,{paddingTop:7},e.createElement(Ae,null)))))},De=()=>e.createElement(r.CheckPagePermissions,{permissions:Be.Z.marketplace.main},e.createElement($,null))},22139:(S,T,t)=>{"use strict";S.exports=t.p+"90f49a385afb000fb1d4.svg"},87438:(S,T,t)=>{"use strict";S.exports=t.p+"a6b842e0b6d2b61135d1.svg"}}]);
