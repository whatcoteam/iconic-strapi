(self.webpackChunkiconic_taste_backend=self.webpackChunkiconic_taste_backend||[]).push([[8853],{87760:function(R,A,s){(function(n,y){R.exports=y(s(53547))})(this,function(n){return function(y){var i={};function l(o){if(i[o])return i[o].exports;var c=i[o]={i:o,l:!1,exports:{}};return y[o].call(c.exports,c,c.exports,l),c.l=!0,c.exports}return l.m=y,l.c=i,l.d=function(o,c,m){l.o(o,c)||Object.defineProperty(o,c,{enumerable:!0,get:m})},l.r=function(o){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},l.t=function(o,c){if(1&c&&(o=l(o)),8&c||4&c&&typeof o=="object"&&o&&o.__esModule)return o;var m=Object.create(null);if(l.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:o}),2&c&&typeof o!="string")for(var v in o)l.d(m,v,function(h){return o[h]}.bind(null,v));return m},l.n=function(o){var c=o&&o.__esModule?function(){return o.default}:function(){return o};return l.d(c,"a",c),c},l.o=function(o,c){return Object.prototype.hasOwnProperty.call(o,c)},l.p="",l(l.s=5)}({0:function(y,i){y.exports=n},5:function(y,i,l){"use strict";l.r(i);var o=l(0);function c(){return(c=Object.assign||function(m){for(var v=1;v<arguments.length;v++){var h=arguments[v];for(var b in h)Object.prototype.hasOwnProperty.call(h,b)&&(m[b]=h[b])}return m}).apply(this,arguments)}i.default=function(m){return o.createElement("svg",c({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m),o.createElement("path",{d:"M24 13.3a.2.2 0 01-.2.2H5.74l8.239 8.239a.2.2 0 010 .282L12.14 23.86a.2.2 0 01-.282 0L.14 12.14a.2.2 0 010-.282L11.86.14a.2.2 0 01.282 0L13.98 1.98a.2.2 0 010 .282L5.74 10.5H23.8c.11 0 .2.09.2.2v2.6z",fill:"#212134"}))}}})})},17581:function(R,A,s){(function(n,y){R.exports=y(s(53547))})(this,function(n){return function(y){var i={};function l(o){if(i[o])return i[o].exports;var c=i[o]={i:o,l:!1,exports:{}};return y[o].call(c.exports,c,c.exports,l),c.l=!0,c.exports}return l.m=y,l.c=i,l.d=function(o,c,m){l.o(o,c)||Object.defineProperty(o,c,{enumerable:!0,get:m})},l.r=function(o){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},l.t=function(o,c){if(1&c&&(o=l(o)),8&c||4&c&&typeof o=="object"&&o&&o.__esModule)return o;var m=Object.create(null);if(l.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:o}),2&c&&typeof o!="string")for(var v in o)l.d(m,v,function(h){return o[h]}.bind(null,v));return m},l.n=function(o){var c=o&&o.__esModule?function(){return o.default}:function(){return o};return l.d(c,"a",c),c},l.o=function(o,c){return Object.prototype.hasOwnProperty.call(o,c)},l.p="",l(l.s=35)}({0:function(y,i){y.exports=n},35:function(y,i,l){"use strict";l.r(i);var o=l(0);function c(){return(c=Object.assign||function(m){for(var v=1;v<arguments.length;v++){var h=arguments[v];for(var b in h)Object.prototype.hasOwnProperty.call(h,b)&&(m[b]=h[b])}return m}).apply(this,arguments)}i.default=function(m){return o.createElement("svg",c({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},m),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.68 9.192c-.6.276-2.114 1.18-2.306 1.303a.792.792 0 00-.374.68v1.65a.797.797 0 00.384.687c.254.16 1.73 1.042 2.306 1.303l.744 1.8c-.24.634-.67 2.333-.72 2.554a.797.797 0 00.216.744l1.167 1.166a.801.801 0 00.744.216l.03-.008c.36-.092 1.946-.498 2.523-.712l1.8.744c.276.6 1.181 2.115 1.304 2.307a.805.805 0 00.679.374h1.649a.797.797 0 00.686-.384c.16-.254 1.042-1.73 1.303-2.306l1.8-.744c.634.24 2.333.67 2.554.72a.797.797 0 00.744-.216l1.166-1.167a.803.803 0 00.216-.744l-.008-.03c-.092-.36-.498-1.946-.712-2.523l.744-1.8c.6-.276 2.115-1.181 2.307-1.304a.804.804 0 00.374-.679v-1.649a.796.796 0 00-.382-.679c-.254-.16-1.73-1.041-2.306-1.303l-.744-1.8c.24-.634.67-2.333.72-2.554a.796.796 0 00-.216-.744l-1.166-1.173a.802.802 0 00-.744-.216l-.03.008c-.361.092-1.947.498-2.524.712l-1.8-.744c-.276-.6-1.18-2.115-1.303-2.307a.803.803 0 00-.68-.374h-1.65a.797.797 0 00-.68.382c-.16.254-1.041 1.73-1.303 2.306l-1.8.744c-.634-.24-2.333-.67-2.554-.72a.797.797 0 00-.744.216L2.921 4.094a.802.802 0 00-.216.744l.008.03c.092.361.498 1.947.712 2.524l-.744 1.8zM12 17a5 5 0 100-10 5 5 0 000 10z",fill:"#212134"}))}}})})},19417:(R,A,s)=>{"use strict";s.r(A),s.d(A,{default:()=>Dn});var n=s(53547),y=s(49656),i=s(68547),l=s(83086),o=s(51725),c=s(64459),m=s(35395),v=s(80117),h=s(43546),b=s(19631),O=s(33483),T=s(67422),k=s(89326),Z=s.n(k),L=s(97132),D=s(23724),N=s(63852),$=s(42722),z=(r,e,t)=>new Promise((d,f)=>{var p=a=>{try{u(t.next(a))}catch(g){f(g)}},P=a=>{try{u(t.throw(a))}catch(g){f(g)}},u=a=>a.done?d(a.value):Promise.resolve(a.value).then(p,P);u((t=t.apply(r,e)).next())});const Y=(r,e)=>z(void 0,null,function*(){try{const{data:t}=yield $.be.get((0,$.Gc)("roles"));return e("The roles have loaded successfully"),t}catch(t){throw r({type:"warning",message:{id:"notification.error"}}),new Error("error")}}),qe=(r,e)=>z(void 0,null,function*(){try{yield $.be.delete(`${(0,$.Gc)("roles")}/${r}`)}catch(t){e({type:"warning",message:{id:"notification.error",defaultMessage:"An error occured"}})}});var et=s(45697),S=s.n(et),se=s(49549),J=s(40264),tt=s(56204),rt=s.n(tt),nt=s(62982),st=s.n(nt),ot=Object.defineProperty,oe=Object.getOwnPropertySymbols,at=Object.prototype.hasOwnProperty,it=Object.prototype.propertyIsEnumerable,ae=(r,e,t)=>e in r?ot(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ie=(r,e)=>{for(var t in e||(e={}))at.call(e,t)&&ae(r,t,e[t]);if(oe)for(var t of oe(e))it.call(e,t)&&ae(r,t,e[t]);return r};const q=({sortedRoles:r,canDelete:e,permissions:t,setRoleToDelete:d,onDelete:f})=>{const{formatMessage:p}=(0,L.useIntl)(),{push:P}=(0,y.useHistory)(),[u,a]=f,g=E=>e&&!["public","authenticated"].includes(E.type),C=E=>{d(E),a(!u)},w=E=>{P(`/settings/${l.Z}/roles/${E}`)};return n.createElement(h.Tbody,null,r==null?void 0:r.map(E=>n.createElement(h.Tr,ie({key:E.name},(0,i.onRowClick)({fn:()=>w(E.id)})),n.createElement(h.Td,{width:"20%"},n.createElement(O.Typography,null,E.name)),n.createElement(h.Td,{width:"50%"},n.createElement(O.Typography,null,E.description)),n.createElement(h.Td,{width:"30%"},n.createElement(O.Typography,null,`${E.nb_users} ${p({id:"global.users",defaultMessage:"users"}).toLowerCase()}`)),n.createElement(h.Td,null,n.createElement(J.Flex,ie({justifyContent:"end"},i.stopPropagation),n.createElement(i.CheckPermissions,{permissions:t.updateRole},n.createElement(se.IconButton,{onClick:()=>w(E.id),noBorder:!0,icon:n.createElement(rt(),null),label:p({id:"app.component.table.edit",defaultMessage:"Edit {target}"},{target:`${E.name}`})})),g(E)&&n.createElement(i.CheckPermissions,{permissions:t.deleteRole},n.createElement(se.IconButton,{onClick:()=>C(E.id),noBorder:!0,icon:n.createElement(st(),null),label:p({id:"global.delete-target",defaultMessage:"Delete {target}"},{target:`${E.name}`})})))))))},lt=q;q.defaultProps={canDelete:!1},q.propTypes={onDelete:S().array.isRequired,permissions:S().object.isRequired,setRoleToDelete:S().func.isRequired,sortedRoles:S().array.isRequired,canDelete:S().bool};var le=(r,e,t)=>new Promise((d,f)=>{var p=a=>{try{u(t.next(a))}catch(g){f(g)}},P=a=>{try{u(t.throw(a))}catch(g){f(g)}},u=a=>a.done?d(a.value):Promise.resolve(a.value).then(p,P);u((t=t.apply(r,e)).next())});const ct=()=>{const{trackUsage:r}=(0,i.useTracking)(),{formatMessage:e}=(0,L.useIntl)(),{push:t}=(0,y.useHistory)(),d=(0,i.useNotification)(),{notifyStatus:f}=(0,T.useNotifyAT)(),[{query:p}]=(0,i.useQueryParams)(),P=(p==null?void 0:p._q)||"",[u,a]=(0,n.useState)(!1),[g,C]=(0,n.useState)(!1),[w,E]=(0,n.useState)();(0,i.useFocusWhenNavigate)();const x=(0,D.useQueryClient)(),M=(0,n.useMemo)(()=>({create:o.Z.createRole,read:o.Z.readRoles,update:o.Z.updateRole,delete:o.Z.deleteRole}),[]),{isLoading:B,allowedActions:{canRead:I,canDelete:H}}=(0,i.useRBAC)(M),{isLoading:An,data:{roles:ne},isFetching:Ln}=(0,D.useQuery)("get-roles",()=>Y(d,f),{initialData:{},enabled:I}),Je=An||Ln,wn=()=>{r("willCreateRole"),t(`/settings/${l.Z}/roles/new`)},Sn=()=>{a(!u)},Mn={roles:{id:(0,$.OB)("Roles.empty"),defaultMessage:"You don't have any roles yet."},search:{id:(0,$.OB)("Roles.empty.search"),defaultMessage:"No roles match the search."}},xn=e({id:"global.roles",defaultMessage:"Roles"}),jn=(0,D.useMutation)(Gn=>qe(Gn,d),{onSuccess:()=>le(void 0,null,function*(){yield x.invalidateQueries("get-roles")})}),Un=()=>le(void 0,null,function*(){C(!0),yield jn.mutateAsync(w),a(!u),C(!1)}),W=(0,N.ZP)(ne||[],P,{keys:["name","description"]}),Bn=P&&!W.length?"search":"roles",In=4,Nn=((ne==null?void 0:ne.length)||0)+1;return n.createElement(m.Layout,null,n.createElement(i.SettingsPageTitle,{name:xn}),n.createElement(v.Main,{"aria-busy":Je},n.createElement(m.HeaderLayout,{title:e({id:"global.roles",defaultMessage:"Roles"}),subtitle:e({id:"Settings.roles.list.description",defaultMessage:"List of roles"}),primaryAction:n.createElement(i.CheckPermissions,{permissions:o.Z.createRole},n.createElement(c.Button,{onClick:wn,startIcon:n.createElement(Z(),null),size:"L"},e({id:(0,$.OB)("List.button.roles"),defaultMessage:"Add new role"})))}),n.createElement(m.ActionLayout,{startActions:n.createElement(i.SearchURLQuery,{label:e({id:"app.component.search.label",defaultMessage:"Search"})})}),n.createElement(m.ContentLayout,null,!I&&n.createElement(i.NoPermissions,null),(Je||B)&&n.createElement(i.LoadingIndicatorPage,null),I&&W&&(W==null?void 0:W.length)?n.createElement(h.Table,{colCount:In,rowCount:Nn},n.createElement(h.Thead,null,n.createElement(h.Tr,null,n.createElement(h.Th,null,n.createElement(O.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"global.name",defaultMessage:"Name"}))),n.createElement(h.Th,null,n.createElement(O.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"global.description",defaultMessage:"Description"}))),n.createElement(h.Th,null,n.createElement(O.Typography,{variant:"sigma",textColor:"neutral600"},e({id:"global.users",defaultMessage:"Users"}))),n.createElement(h.Th,null,n.createElement(b.VisuallyHidden,null,e({id:"global.actions",defaultMessage:"Actions"}))))),n.createElement(lt,{sortedRoles:W,canDelete:H,permissions:o.Z,setRoleToDelete:E,onDelete:[u,a]})):n.createElement(i.EmptyStateLayout,{content:Mn[Bn]})),n.createElement(i.ConfirmDialog,{isConfirmButtonLoading:g,onConfirm:Un,onToggleDialog:Sn,isOpen:u})))},ut=()=>n.createElement(i.CheckPagePermissions,{permissions:o.Z.accessRoles},n.createElement(ct,null));var j=s(9524),G=s(94117),ce=s(99136),ue=s(78607),dt=s(87760),pt=s.n(dt),mt=s(22754),de=s.n(mt),gt=s(56156),U=s(39272),pe=s(80831),_=s(97961),F=s(96486);const me=(0,n.createContext)({}),ge=({children:r,value:e})=>n.createElement(me.Provider,{value:e},r),ee=()=>(0,n.useContext)(me);ge.propTypes={children:S().node.isRequired,value:S().object.isRequired};var K=s(78384),ft=s(35161),Pt=s.n(ft),yt=s(13217),vt=s.n(yt);const ht=r=>{switch(r){case"POST":return{text:"success600",border:"success200",background:"success100"};case"GET":return{text:"secondary600",border:"secondary200",background:"secondary100"};case"PUT":return{text:"warning600",border:"warning200",background:"warning100"};case"DELETE":return{text:"danger600",border:"danger200",background:"danger100"};default:return{text:"neutral600",border:"neutral200",background:"neutral100"}}},Et=(0,K.default)(G.Box)`
  margin: -1px;
  border-radius: ${({theme:r})=>r.spaces[1]} 0 0 ${({theme:r})=>r.spaces[1]};
`;function te({route:r}){const{formatMessage:e}=(0,L.useIntl)(),{method:t,handler:d,path:f}=r,p=f?vt()(f.split("/")):[],[P="",u=""]=d?d.split("."):[],a=ht(r.method);return n.createElement(j.Stack,{spacing:2},n.createElement(O.Typography,{variant:"delta",as:"h3"},e({id:"users-permissions.BoundRoute.title",defaultMessage:"Bound route to"}),"\xA0",n.createElement("span",null,P),n.createElement(O.Typography,{variant:"delta",textColor:"primary600"},".",u)),n.createElement(j.Stack,{horizontal:!0,hasRadius:!0,background:"neutral0",borderColor:"neutral200",spacing:0},n.createElement(Et,{background:a.background,borderColor:a.border,padding:2},n.createElement(O.Typography,{fontWeight:"bold",textColor:a.text},t)),n.createElement(G.Box,{paddingLeft:2,paddingRight:2},Pt()(p,g=>n.createElement(O.Typography,{key:g,textColor:g.includes(":")?"neutral600":"neutral900"},"/",g)))))}te.defaultProps={route:{handler:"Nocontroller.error",method:"GET",path:"/there-is-no-path"}},te.propTypes={route:S().shape({handler:S().string,method:S().string,path:S().string})};const Ot=te,bt=()=>{const{formatMessage:r}=(0,L.useIntl)(),{selectedAction:e,routes:t}=ee(),d=(0,F.without)(e.split("."),"controllers"),f=(0,F.get)(t,d[0]),p=d.slice(1).join("."),P=(0,F.isEmpty)(f)?[]:f.filter(u=>u.handler.endsWith(p));return n.createElement(U.GridItem,{col:5,background:"neutral150",paddingTop:6,paddingBottom:6,paddingLeft:7,paddingRight:7,style:{minHeight:"100%"}},e?n.createElement(j.Stack,{spacing:2},P.map((u,a)=>n.createElement(Ot,{key:a,route:u}))):n.createElement(j.Stack,{spacing:2},n.createElement(O.Typography,{variant:"delta",as:"h3"},r({id:"users-permissions.Policies.header.title",defaultMessage:"Advanced settings"})),n.createElement(O.Typography,{as:"p",textColor:"neutral600"},r({id:"users-permissions.Policies.header.hint",defaultMessage:"Select the application's actions or the plugin's actions and click on the cog icon to display the bound route"}))))};var re=s(47949),Rt=s(11700),Ct=s.n(Rt);function Tt(r){switch(r){case"application":return"Application";case"plugin::content-manager":return"Content manager";case"plugin::content-type-builder":return"Content types builder";case"plugin::documentation":return"Documentation";case"plugin::email":return"Email";case"plugin::i18n":return"i18n";case"plugin::upload":return"Upload";case"plugin::users-permissions":return"Users-permissions";default:return Ct()(r.replace("api::","").replace("plugin::",""))}}const Dt=Tt;var At=s(89734),fe=s.n(At),Pe=s(43499),Lt=s(17581),wt=s.n(Lt);const ye=K.css`
  background: ${r=>r.theme.colors.primary100};
  svg {
    opacity: 1;
  }
`,St=(0,K.default)(G.Box)`
  display: flex;
  justify-content: space-between;
  align-items: center;

  svg {
    opacity: 0;
    path {
      fill: ${r=>r.theme.colors.primary600};
    }
  }

  /* Show active style both on hover and when the action is selected */
  ${r=>r.isActive&&ye}
  &:hover {
    ${ye}
  }
`,Mt=K.default.div`
  flex: 1;
  align-self: center;
  border-top: 1px solid ${({theme:r})=>r.colors.neutral150};
`,ve=({subCategory:r})=>{const{formatMessage:e}=(0,L.useIntl)(),{onChange:t,onChangeSelectAll:d,onSelectedAction:f,selectedAction:p,modifiedData:P}=ee(),u=(0,n.useMemo)(()=>(0,F.get)(P,r.name,{}),[P,r]),a=(0,n.useMemo)(()=>Object.values(u).every(E=>E.enabled===!0),[u]),g=(0,n.useMemo)(()=>Object.values(u).some(E=>E.enabled===!0)&&!a,[u,a]),C=(0,n.useCallback)(({target:{name:E}})=>{d({target:{name:E,value:!a}})},[a,d]),w=(0,n.useCallback)(E=>p===E,[p]);return n.createElement(G.Box,null,n.createElement(J.Flex,{justifyContent:"space-between",alignItems:"center"},n.createElement(G.Box,{paddingRight:4},n.createElement(O.Typography,{variant:"sigma",textColor:"neutral600"},r.label)),n.createElement(Mt,null),n.createElement(G.Box,{paddingLeft:4},n.createElement(Pe.Checkbox,{name:r.name,value:a,onValueChange:E=>C({target:{name:r.name,value:E}}),indeterminate:g},e({id:"app.utils.select-all",defaultMessage:"Select all"})))),n.createElement(J.Flex,{paddingTop:6,paddingBottom:6},n.createElement(U.Grid,{gap:2,style:{flex:1}},r.actions.map(E=>{const x=`${E.name}.enabled`;return n.createElement(U.GridItem,{col:6,key:E.name},n.createElement(St,{isActive:w(E.name),padding:2,hasRadius:!0},n.createElement(Pe.Checkbox,{value:(0,F.get)(P,x,!1),name:x,onValueChange:M=>t({target:{name:x,value:M}})},E.label),n.createElement("button",{type:"button","data-testid":"action-cog",onClick:()=>f(E.name),style:{display:"inline-flex",alignItems:"center"}},n.createElement(wt(),null))))}))))};ve.propTypes={subCategory:S().object.isRequired};const xt=ve;var jt=Object.defineProperty,Ut=Object.defineProperties,Bt=Object.getOwnPropertyDescriptors,he=Object.getOwnPropertySymbols,It=Object.prototype.hasOwnProperty,Nt=Object.prototype.propertyIsEnumerable,Ee=(r,e,t)=>e in r?jt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Gt=(r,e)=>{for(var t in e||(e={}))It.call(e,t)&&Ee(r,t,e[t]);if(he)for(var t of he(e))Nt.call(e,t)&&Ee(r,t,e[t]);return r},Ft=(r,e)=>Ut(r,Bt(e));const Oe=({name:r,permissions:e})=>{const t=(0,n.useMemo)(()=>fe()(Object.values(e.controllers).reduce((d,f,p)=>{const P=`${r}.controllers.${Object.keys(e.controllers)[p]}`,u=fe()(Object.keys(f).reduce((a,g)=>[...a,Ft(Gt({},f[g]),{label:g,name:`${P}.${g}`})],[]),"label");return[...d,{actions:u,label:Object.keys(e.controllers)[p],name:P}]},[]),"label"),[r,e]);return n.createElement(G.Box,{padding:6},t.map(d=>n.createElement(xt,{key:d.name,subCategory:d})))};Oe.propTypes={name:S().string.isRequired,permissions:S().object.isRequired};const Zt=Oe;var $t=Object.defineProperty,kt=Object.defineProperties,_t=Object.getOwnPropertyDescriptors,be=Object.getOwnPropertySymbols,Vt=Object.prototype.hasOwnProperty,Ht=Object.prototype.propertyIsEnumerable,Re=(r,e,t)=>e in r?$t(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Wt=(r,e)=>{for(var t in e||(e={}))Vt.call(e,t)&&Re(r,t,e[t]);if(be)for(var t of be(e))Ht.call(e,t)&&Re(r,t,e[t]);return r},zt=(r,e)=>kt(r,_t(e));const Kt=(r,e)=>{const t=Object.keys(e).sort().map(d=>({name:d,isOpen:!1}));return zt(Wt({},r),{collapses:t})};var Q=s(8041),Qt=Object.defineProperty,Xt=Object.defineProperties,Yt=Object.getOwnPropertyDescriptors,Ce=Object.getOwnPropertySymbols,Jt=Object.prototype.hasOwnProperty,qt=Object.prototype.propertyIsEnumerable,Te=(r,e,t)=>e in r?Qt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,De=(r,e)=>{for(var t in e||(e={}))Jt.call(e,t)&&Te(r,t,e[t]);if(Ce)for(var t of Ce(e))qt.call(e,t)&&Te(r,t,e[t]);return r},Ae=(r,e)=>Xt(r,Yt(e));const er={collapses:[]},tr=(r,e)=>(0,Q.default)(r,t=>{switch(e.type){case"TOGGLE_COLLAPSE":{t.collapses=r.collapses.map((d,f)=>f===e.index?Ae(De({},d),{isOpen:!d.isOpen}):Ae(De({},d),{isOpen:!1}));break}default:return t}}),rr=()=>{const{modifiedData:r}=ee(),{formatMessage:e}=(0,L.useIntl)(),[{collapses:t},d]=(0,n.useReducer)(tr,er,p=>Kt(p,r)),f=p=>d({type:"TOGGLE_COLLAPSE",index:p});return n.createElement(j.Stack,{spacing:1},t.map((p,P)=>n.createElement(re.Accordion,{expanded:p.isOpen,onToggle:()=>f(P),key:p.name,variant:P%2===0?"secondary":void 0},n.createElement(re.AccordionToggle,{title:Dt(p.name),description:e({id:"users-permissions.Plugin.permissions.plugins.description",defaultMessage:"Define all allowed actions for the {name} plugin."},{name:p.name}),variant:P%2?"primary":"secondary"}),n.createElement(re.AccordionContent,null,n.createElement(G.Box,null,n.createElement(Zt,{permissions:r[p.name],name:p.name}))))))};var nr=Object.defineProperty,sr=Object.defineProperties,or=Object.getOwnPropertyDescriptors,Le=Object.getOwnPropertySymbols,ar=Object.prototype.hasOwnProperty,ir=Object.prototype.propertyIsEnumerable,we=(r,e,t)=>e in r?nr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,lr=(r,e)=>{for(var t in e||(e={}))ar.call(e,t)&&we(r,t,e[t]);if(Le)for(var t of Le(e))ir.call(e,t)&&we(r,t,e[t]);return r},cr=(r,e)=>sr(r,or(e));const ur={initialData:{},modifiedData:{},routes:{},selectedAction:"",policies:[]},dr=(r,e)=>(0,Q.default)(r,t=>{switch(e.type){case"ON_CHANGE":{const d=e.keys.length,f=e.keys[d-1]==="enabled";if(e.value&&f){const p=(0,F.take)(e.keys,d-1).join(".");t.selectedAction=p}(0,F.set)(t,["modifiedData",...e.keys],e.value);break}case"ON_CHANGE_SELECT_ALL":{const d=["modifiedData",...e.keys],f=(0,F.get)(r,d,{}),p=Object.keys(f).reduce((P,u)=>(P[u]=cr(lr({},f[u]),{enabled:e.value}),P),{});(0,F.set)(t,d,p);break}case"ON_RESET":{t.modifiedData=r.initialData;break}case"ON_SUBMIT_SUCCEEDED":{t.initialData=r.modifiedData;break}case"SELECT_ACTION":{const{actionToSelect:d}=e;t.selectedAction=d===r.selectedAction?"":d;break}default:return t}});var pr=Object.defineProperty,mr=Object.defineProperties,gr=Object.getOwnPropertyDescriptors,Se=Object.getOwnPropertySymbols,fr=Object.prototype.hasOwnProperty,Pr=Object.prototype.propertyIsEnumerable,Me=(r,e,t)=>e in r?pr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,yr=(r,e)=>{for(var t in e||(e={}))fr.call(e,t)&&Me(r,t,e[t]);if(Se)for(var t of Se(e))Pr.call(e,t)&&Me(r,t,e[t]);return r},vr=(r,e)=>mr(r,gr(e));const hr=(r,e,t)=>vr(yr({},r),{initialData:e,modifiedData:e,routes:t});var Er=Object.defineProperty,Or=Object.defineProperties,br=Object.getOwnPropertyDescriptors,xe=Object.getOwnPropertySymbols,Rr=Object.prototype.hasOwnProperty,Cr=Object.prototype.propertyIsEnumerable,je=(r,e,t)=>e in r?Er(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Tr=(r,e)=>{for(var t in e||(e={}))Rr.call(e,t)&&je(r,t,e[t]);if(xe)for(var t of xe(e))Cr.call(e,t)&&je(r,t,e[t]);return r},Dr=(r,e)=>Or(r,br(e));const Ue=(0,n.forwardRef)(({permissions:r,routes:e},t)=>{const{formatMessage:d}=(0,L.useIntl)(),[f,p]=(0,n.useReducer)(dr,ur,C=>hr(C,r,e));(0,n.useImperativeHandle)(t,()=>({getPermissions:()=>({permissions:f.modifiedData}),resetForm:()=>{p({type:"ON_RESET"})},setFormAfterSubmit:()=>{p({type:"ON_SUBMIT_SUCCEEDED"})}}));const P=({target:{name:C,value:w}})=>p({type:"ON_CHANGE",keys:C.split("."),value:w==="empty__string_value"?"":w}),u=({target:{name:C,value:w}})=>p({type:"ON_CHANGE_SELECT_ALL",keys:C.split("."),value:w}),a=C=>p({type:"SELECT_ACTION",actionToSelect:C}),g=Dr(Tr({},f),{onChange:P,onChangeSelectAll:u,onSelectedAction:a});return n.createElement(ge,{value:g},n.createElement(U.Grid,{gap:0,shadow:"filterShadow",hasRadius:!0,background:"neutral0"},n.createElement(U.GridItem,{col:7,paddingTop:6,paddingBottom:6,paddingLeft:7,paddingRight:7},n.createElement(j.Stack,{spacing:6},n.createElement(j.Stack,{spacing:2},n.createElement(O.Typography,{variant:"delta",as:"h2"},d({id:(0,_.Z)("Plugins.header.title"),defaultMessage:"Permissions"})),n.createElement(O.Typography,{as:"p",textColor:"neutral600"},d({id:(0,_.Z)("Plugins.header.description"),defaultMessage:"Only actions bound by a route are listed below."}))),n.createElement(rr,null))),n.createElement(bt,null)))});Ue.propTypes={permissions:S().object.isRequired,routes:S().object.isRequired};const Be=(0,n.memo)(Ue),Kn={isLoading:!0,modifiedData:{}},Qn=(r,e)=>produce(r,t=>{switch(e.type){case"GET_DATA":{t.isLoading=!0,t.modifiedData={};break}case"GET_DATA_SUCCEEDED":{t.isLoading=!1,t.modifiedData=e.data;break}case"GET_DATA_ERROR":{t.isLoading=!0;break}case"ON_SUBMIT_SUCCEEDED":{t.modifiedData=e.data;break}default:return t}}),Xn=null;var Ar=s(25108),Lr=(r,e,t)=>new Promise((d,f)=>{var p=a=>{try{u(t.next(a))}catch(g){f(g)}},P=a=>{try{u(t.throw(a))}catch(g){f(g)}},u=a=>a.done?d(a.value):Promise.resolve(a.value).then(p,P);u((t=t.apply(r,e)).next())});const Yn=(r,e)=>{const{isLoading:t,allowedActions:d}=useRBAC(e),[{isLoading:f,modifiedData:p},P]=useReducer(reducer,initialState),u=useNotification(),a=useRef(!0),g=new AbortController,{signal:C}=g;useEffect(()=>(t||(()=>Lr(void 0,null,function*(){try{P({type:"GET_DATA"});const x=yield request(getRequestURL(r),{method:"GET",signal:C});P({type:"GET_DATA_SUCCEEDED",data:x})}catch(x){a.current&&(P({type:"GET_DATA_ERROR"}),Ar.error(x),u({type:"warning",message:{id:"notification.error"}}))}}))(),()=>{g.abort(),a.current=!1}),[t,r]);const w=useCallback(E=>{P({type:"ON_SUBMIT_SUCCEEDED",data:E})},[]);return{allowedActions:d,dispatchSubmitSucceeded:w,isLoading:f,isLoadingForPermissions:t,modifiedData:p}},Jn=null;var wr=Object.defineProperty,Sr=Object.defineProperties,Mr=Object.getOwnPropertyDescriptors,Ie=Object.getOwnPropertySymbols,xr=Object.prototype.hasOwnProperty,jr=Object.prototype.propertyIsEnumerable,Ne=(r,e,t)=>e in r?wr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ur=(r,e)=>{for(var t in e||(e={}))xr.call(e,t)&&Ne(r,t,e[t]);if(Ie)for(var t of Ie(e))jr.call(e,t)&&Ne(r,t,e[t]);return r},Br=(r,e)=>Sr(r,Mr(e));const qn=(r,e)=>Br(Ur({},r),{isLoading:e}),es=null,ts={roles:[],isLoading:!0},rs=(r,e)=>produce(r,t=>{switch(e.type){case"GET_DATA":{t.isLoading=!0,t.roles=[];break}case"GET_DATA_SUCCEEDED":{t.roles=e.data,t.isLoading=!1;break}case"GET_DATA_ERROR":{t.isLoading=!1;break}default:return t}}),ns=null;var Ir=(r,e,t)=>new Promise((d,f)=>{var p=a=>{try{u(t.next(a))}catch(g){f(g)}},P=a=>{try{u(t.throw(a))}catch(g){f(g)}},u=a=>a.done?d(a.value):Promise.resolve(a.value).then(p,P);u((t=t.apply(r,e)).next())});const ss=(r=!0)=>{const[{roles:e,isLoading:t},d]=useReducer(reducer,initialState,()=>init(initialState,r)),f=useNotification(),p=useRef(!0),P=new AbortController,{signal:u}=P;useEffect(()=>(r&&a(),()=>{P.abort(),p.current=!1}),[r]);const a=()=>Ir(void 0,null,function*(){try{d({type:"GET_DATA"});const{roles:g}=yield request(`/${pluginId}/roles`,{method:"GET",signal:u});d({type:"GET_DATA_SUCCEEDED",data:g})}catch(g){const C=get(g,["response","payload","message"],"An error occured");p.current&&(d({type:"GET_DATA_ERROR"}),C!=="Forbidden"&&f({type:"warning",message:C}))}});return{roles:e,isLoading:t,getData:a}},os=null;var Nr=Object.defineProperty,Gr=Object.defineProperties,Fr=Object.getOwnPropertyDescriptors,Ge=Object.getOwnPropertySymbols,Zr=Object.prototype.hasOwnProperty,$r=Object.prototype.propertyIsEnumerable,Fe=(r,e,t)=>e in r?Nr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,kr=(r,e)=>{for(var t in e||(e={}))Zr.call(e,t)&&Fe(r,t,e[t]);if(Ge)for(var t of Ge(e))$r.call(e,t)&&Fe(r,t,e[t]);return r},_r=(r,e)=>Gr(r,Fr(e));const Vr=(r,e)=>_r(kr({},r),{isLoading:e});var X=s(65772);const Ze={permissions:{},routes:{},isLoading:!0},Hr=(r,e)=>(0,Q.default)(r,t=>{switch(e.type){case"GET_DATA":{t.isLoading=!0,t.permissions={},t.routes={};break}case"GET_DATA_SUCCEEDED":{t.permissions=e.permissions,t.routes=e.routes,t.isLoading=!1;break}case"GET_DATA_ERROR":{t.isLoading=!1;break}default:return t}});var $e=(r,e,t)=>new Promise((d,f)=>{var p=a=>{try{u(t.next(a))}catch(g){f(g)}},P=a=>{try{u(t.throw(a))}catch(g){f(g)}},u=a=>a.done?d(a.value):Promise.resolve(a.value).then(p,P);u((t=t.apply(r,e)).next())});const ke=(r=!0)=>{const e=(0,i.useNotification)(),[{permissions:t,routes:d,isLoading:f},p]=(0,n.useReducer)(Hr,Ze,()=>Vr(Ze,r)),P=(0,n.useCallback)(()=>$e(void 0,null,function*(){try{p({type:"GET_DATA"});const[{permissions:u},{routes:a}]=yield Promise.all([`/${l.Z}/permissions`,`/${l.Z}/routes`].map(g=>$e(this,null,function*(){return(yield X.Z.get(g)).data})));p({type:"GET_DATA_SUCCEEDED",permissions:(0,$.YX)(u),routes:a})}catch(u){const a=(0,F.get)(u,["response","payload","message"],"An error occured");p({type:"GET_DATA_ERROR"}),a!=="Forbidden"&&e({type:"warning",message:a})}}),[e]);return(0,n.useEffect)(()=>{r&&P()},[P,r]),{permissions:t,routes:d,getData:P,isLoading:f}},Wr={role:{},isLoading:!0},zr=(r,e)=>(0,Q.default)(r,t=>{switch(e.type){case"GET_DATA_SUCCEEDED":{t.role=e.role,t.isLoading=!1;break}case"GET_DATA_ERROR":{t.isLoading=!1;break}case"ON_SUBMIT_SUCCEEDED":{t.role.name=e.name,t.role.description=e.description;break}default:return t}});var Kr=s(25108),Qr=Object.defineProperty,Xr=Object.defineProperties,Yr=Object.getOwnPropertyDescriptors,_e=Object.getOwnPropertySymbols,Jr=Object.prototype.hasOwnProperty,qr=Object.prototype.propertyIsEnumerable,Ve=(r,e,t)=>e in r?Qr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,He=(r,e)=>{for(var t in e||(e={}))Jr.call(e,t)&&Ve(r,t,e[t]);if(_e)for(var t of _e(e))qr.call(e,t)&&Ve(r,t,e[t]);return r},en=(r,e)=>Xr(r,Yr(e)),tn=(r,e,t)=>new Promise((d,f)=>{var p=a=>{try{u(t.next(a))}catch(g){f(g)}},P=a=>{try{u(t.throw(a))}catch(g){f(g)}},u=a=>a.done?d(a.value):Promise.resolve(a.value).then(p,P);u((t=t.apply(r,e)).next())});const rn=r=>{const[e,t]=(0,n.useReducer)(zr,Wr),d=(0,i.useNotification)(),f=(0,n.useRef)(null);(0,n.useEffect)(()=>(f.current=!0,r?p(r):t({type:"GET_DATA_SUCCEEDED",role:{}}),()=>f.current=!1),[r]);const p=u=>tn(void 0,null,function*(){try{const{data:{role:a}}=yield X.Z.get(`/${l.Z}/roles/${u}`);f.current&&t({type:"GET_DATA_SUCCEEDED",role:a})}catch(a){Kr.error(a),t({type:"GET_DATA_ERROR"}),d({type:"warning",message:{id:"notification.error"}})}}),P=(0,n.useCallback)(u=>{t(He({type:"ON_SUBMIT_SUCCEEDED"},u))},[]);return en(He({},e),{onSubmitSucceeded:P})};var V=s(63600);const nn=V.object().shape({name:V.string().required(i.translatedErrors.required),description:V.string().required(i.translatedErrors.required)});var sn=s(25108),on=Object.defineProperty,an=Object.defineProperties,ln=Object.getOwnPropertyDescriptors,We=Object.getOwnPropertySymbols,cn=Object.prototype.hasOwnProperty,un=Object.prototype.propertyIsEnumerable,ze=(r,e,t)=>e in r?on(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ke=(r,e)=>{for(var t in e||(e={}))cn.call(e,t)&&ze(r,t,e[t]);if(We)for(var t of We(e))un.call(e,t)&&ze(r,t,e[t]);return r},dn=(r,e)=>an(r,ln(e)),pn=(r,e,t)=>new Promise((d,f)=>{var p=a=>{try{u(t.next(a))}catch(g){f(g)}},P=a=>{try{u(t.throw(a))}catch(g){f(g)}},u=a=>a.done?d(a.value):Promise.resolve(a.value).then(p,P);u((t=t.apply(r,e)).next())});const mn=()=>{const{formatMessage:r}=(0,L.useIntl)(),[e,t]=(0,n.useState)(!1),d=(0,i.useNotification)(),{lockApp:f,unlockApp:p}=(0,i.useOverlayBlocker)(),{params:{id:P}}=(0,y.useRouteMatch)(`/settings/${l.Z}/roles/:id`),{isLoading:u,routes:a}=ke(),{role:g,onSubmitSucceeded:C,isLoading:w}=rn(P),E=(0,n.useRef)(),x=M=>pn(void 0,null,function*(){f(),t(!0);try{const B=E.current.getPermissions();yield X.Z.put(`/${l.Z}/roles/${P}`,dn(Ke(Ke({},M),B),{users:[]})),C({name:M.name,description:M.description}),d({type:"success",message:{id:(0,_.Z)("Settings.roles.edited"),defaultMessage:"Role edited"}})}catch(B){sn.error(B),d({type:"warning",message:{id:"notification.error",defaultMessage:"An error occurred"}})}t(!1),p()});return w?n.createElement(i.LoadingIndicatorPage,null):n.createElement(v.Main,null,n.createElement(i.SettingsPageTitle,{name:"Roles"}),n.createElement(pe.Formik,{enableReinitialize:!0,initialValues:{name:g.name,description:g.description},onSubmit:x,validationSchema:nn},({handleSubmit:M,values:B,handleChange:I,errors:H})=>n.createElement(i.Form,{noValidate:!0,onSubmit:M},n.createElement(m.HeaderLayout,{primaryAction:!u&&n.createElement(c.Button,{disabled:g.code==="strapi-super-admin",type:"submit",loading:e,startIcon:n.createElement(de(),null)},r({id:"global.save",defaultMessage:"Save"})),title:g.name,subtitle:g.description,navigationAction:n.createElement(gt.Link,{startIcon:n.createElement(pt(),null),to:"/settings/users-permissions/roles"},r({id:"global.back",defaultMessage:"Back"}))}),n.createElement(m.ContentLayout,null,n.createElement(j.Stack,{spacing:7},n.createElement(G.Box,{background:"neutral0",hasRadius:!0,shadow:"filterShadow",paddingTop:6,paddingBottom:6,paddingLeft:7,paddingRight:7},n.createElement(j.Stack,{spacing:4},n.createElement(O.Typography,{variant:"delta",as:"h2"},r({id:(0,_.Z)("EditPage.form.roles"),defaultMessage:"Role details"})),n.createElement(U.Grid,{gap:4},n.createElement(U.GridItem,{col:6},n.createElement(ce.TextInput,{name:"name",value:B.name||"",onChange:I,label:r({id:"global.name",defaultMessage:"Name"}),error:H.name?r({id:H.name,defaultMessage:"Invalid value"}):null})),n.createElement(U.GridItem,{col:6},n.createElement(ue.Textarea,{name:"description",value:B.description||"",onChange:I,label:r({id:"global.description",defaultMessage:"Description"}),error:H.description?r({id:H.description,defaultMessage:"Invalid value"}):null}))))),!u&&n.createElement(Be,{ref:E,permissions:g.permissions,routes:a}))))))},gn=()=>n.createElement(i.CheckPagePermissions,{permissions:o.Z.updateRole},n.createElement(mn,null)),fn=V.object().shape({name:V.string().required(i.translatedErrors.required),description:V.string().required(i.translatedErrors.required)});var Pn=s(25108),yn=Object.defineProperty,vn=Object.defineProperties,hn=Object.getOwnPropertyDescriptors,Qe=Object.getOwnPropertySymbols,En=Object.prototype.hasOwnProperty,On=Object.prototype.propertyIsEnumerable,Xe=(r,e,t)=>e in r?yn(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ye=(r,e)=>{for(var t in e||(e={}))En.call(e,t)&&Xe(r,t,e[t]);if(Qe)for(var t of Qe(e))On.call(e,t)&&Xe(r,t,e[t]);return r},bn=(r,e)=>vn(r,hn(e)),Rn=(r,e,t)=>new Promise((d,f)=>{var p=a=>{try{u(t.next(a))}catch(g){f(g)}},P=a=>{try{u(t.throw(a))}catch(g){f(g)}},u=a=>a.done?d(a.value):Promise.resolve(a.value).then(p,P);u((t=t.apply(r,e)).next())});const Cn=()=>{const{formatMessage:r}=(0,L.useIntl)(),[e,t]=(0,n.useState)(!1),d=(0,i.useNotification)(),{goBack:f}=(0,y.useHistory)(),{lockApp:p,unlockApp:P}=(0,i.useOverlayBlocker)(),{isLoading:u,permissions:a,routes:g}=ke(),{trackUsage:C}=(0,i.useTracking)(),w=(0,n.useRef)(),E=x=>Rn(void 0,null,function*(){p(),t(!0);try{const M=w.current.getPermissions();yield X.Z.post(`/${l.Z}/roles`,bn(Ye(Ye({},x),M),{users:[]})),C("didCreateRole"),d({type:"success",message:{id:(0,_.Z)("Settings.roles.created"),defaultMessage:"Role created"}}),f()}catch(M){Pn.error(M),d({type:"warning",message:{id:"notification.error",defaultMessage:"An error occurred"}})}t(!1),P()});return n.createElement(v.Main,null,n.createElement(i.SettingsPageTitle,{name:"Roles"}),n.createElement(pe.Formik,{enableReinitialize:!0,initialValues:{name:"",description:""},onSubmit:E,validationSchema:fn},({handleSubmit:x,values:M,handleChange:B,errors:I})=>n.createElement(i.Form,{noValidate:!0,onSubmit:x},n.createElement(m.HeaderLayout,{primaryAction:!u&&n.createElement(c.Button,{type:"submit",loading:e,startIcon:n.createElement(de(),null)},r({id:"global.save",defaultMessage:"Save"})),title:r({id:"Settings.roles.create.title",defaultMessage:"Create a role"}),subtitle:r({id:"Settings.roles.create.description",defaultMessage:"Define the rights given to the role"})}),n.createElement(m.ContentLayout,null,n.createElement(j.Stack,{spacing:7},n.createElement(G.Box,{background:"neutral0",hasRadius:!0,shadow:"filterShadow",paddingTop:6,paddingBottom:6,paddingLeft:7,paddingRight:7},n.createElement(j.Stack,{spacing:4},n.createElement(O.Typography,{variant:"delta",as:"h2"},r({id:(0,_.Z)("EditPage.form.roles"),defaultMessage:"Role details"})),n.createElement(U.Grid,{gap:4},n.createElement(U.GridItem,{col:6},n.createElement(ce.TextInput,{name:"name",value:M.name||"",onChange:B,label:r({id:"global.name",defaultMessage:"Name"}),error:I.name?r({id:I.name,defaultMessage:"Invalid value"}):null})),n.createElement(U.GridItem,{col:6},n.createElement(ue.Textarea,{name:"description",value:M.description||"",onChange:B,label:r({id:"global.description",defaultMessage:"Description"}),error:I.description?r({id:I.description,defaultMessage:"Invalid value"}):null}))))),!u&&n.createElement(Be,{ref:w,permissions:a,routes:g}))))))},Tn=()=>n.createElement(i.CheckPagePermissions,{permissions:o.Z.createRole},n.createElement(Cn,null)),Dn=()=>n.createElement(i.CheckPagePermissions,{permissions:o.Z.accessRoles},n.createElement(y.Switch,null,n.createElement(y.Route,{path:`/settings/${l.Z}/roles/new`,component:Tn,exact:!0}),n.createElement(y.Route,{path:`/settings/${l.Z}/roles/:id`,component:gn,exact:!0}),n.createElement(y.Route,{path:`/settings/${l.Z}/roles`,component:ut,exact:!0}),n.createElement(y.Route,{path:"",component:i.NotFound})))},65772:(R,A,s)=>{"use strict";s.d(A,{Z:()=>m});var n=s(9669),y=s.n(n),i=s(68547),l=s.n(i),o=(v,h,b)=>new Promise((O,T)=>{var k=D=>{try{L(b.next(D))}catch(N){T(N)}},Z=D=>{try{L(b.throw(D))}catch(N){T(N)}},L=D=>D.done?O(D.value):Promise.resolve(D.value).then(k,Z);L((b=b.apply(v,h)).next())});const c=y().create({baseURL:""});c.interceptors.request.use(v=>o(void 0,null,function*(){return v.headers={Authorization:`Bearer ${i.auth.getToken()}`,Accept:"application/json","Content-Type":"application/json"},v}),v=>{Promise.reject(v)}),c.interceptors.response.use(v=>v,v=>{var h;throw((h=v.response)==null?void 0:h.status)===401&&(i.auth.clearAppStorage(),window.location.reload()),v});const m=c},42722:(R,A,s)=>{"use strict";s.d(A,{be:()=>n.Z,YX:()=>l,Gc:()=>m,OB:()=>v.Z});var n=s(65772),y=s(96486);const l=h=>Object.keys(h).reduce((b,O)=>{const T=h[O].controllers,k=Object.keys(T).reduce((Z,L)=>((0,y.isEmpty)(T[L])||(Z[L]=T[L]),Z),{});return(0,y.isEmpty)(k)||(b[O]={controllers:k}),b},{});var o=s(83086);const m=h=>`/${o.Z}/${h}`;var v=s(97961)},89881:(R,A,s)=>{var n=s(47816),y=s(99291),i=y(n);R.exports=i},69199:(R,A,s)=>{var n=s(89881),y=s(98612);function i(l,o){var c=-1,m=y(l)?Array(l.length):[];return n(l,function(v,h,b){m[++c]=o(v,h,b)}),m}R.exports=i},82689:(R,A,s)=>{var n=s(29932),y=s(97786),i=s(67206),l=s(69199),o=s(71131),c=s(7518),m=s(85022),v=s(6557),h=s(1469);function b(O,T,k){T.length?T=n(T,function(D){return h(D)?function(N){return y(N,D.length===1?D[0]:D)}:D}):T=[v];var Z=-1;T=n(T,c(i));var L=l(O,function(D,N,$){var z=n(T,function(Y){return Y(D)});return{criteria:z,index:++Z,value:D}});return o(L,function(D,N){return m(D,N,k)})}R.exports=b},71131:R=>{function A(s,n){var y=s.length;for(s.sort(n);y--;)s[y]=s[y].value;return s}R.exports=A},26393:(R,A,s)=>{var n=s(33448);function y(i,l){if(i!==l){var o=i!==void 0,c=i===null,m=i===i,v=n(i),h=l!==void 0,b=l===null,O=l===l,T=n(l);if(!b&&!T&&!v&&i>l||v&&h&&O&&!b&&!T||c&&h&&O||!o&&O||!m)return 1;if(!c&&!v&&!T&&i<l||T&&o&&m&&!c&&!v||b&&o&&m||!h&&m||!O)return-1}return 0}R.exports=y},85022:(R,A,s)=>{var n=s(26393);function y(i,l,o){for(var c=-1,m=i.criteria,v=l.criteria,h=m.length,b=o.length;++c<h;){var O=n(m[c],v[c]);if(O){if(c>=b)return O;var T=o[c];return O*(T=="desc"?-1:1)}}return i.index-l.index}R.exports=y},99291:(R,A,s)=>{var n=s(98612);function y(i,l){return function(o,c){if(o==null)return o;if(!n(o))return i(o,c);for(var m=o.length,v=l?m:-1,h=Object(o);(l?v--:++v<m)&&c(h[v],v,h)!==!1;);return o}}R.exports=y},35161:(R,A,s)=>{var n=s(29932),y=s(67206),i=s(69199),l=s(1469);function o(c,m){var v=l(c)?n:i;return v(c,y(m,3))}R.exports=o},89734:(R,A,s)=>{var n=s(21078),y=s(82689),i=s(5976),l=s(16612),o=i(function(c,m){if(c==null)return[];var v=m.length;return v>1&&l(c,m[0],m[1])?m=[]:v>2&&l(m[0],m[1],m[2])&&(m=[m[0]]),y(c,n(m,1),[])});R.exports=o},13217:(R,A,s)=>{var n=s(14259);function y(i){var l=i==null?0:i.length;return l?n(i,1,l):[]}R.exports=y}}]);
